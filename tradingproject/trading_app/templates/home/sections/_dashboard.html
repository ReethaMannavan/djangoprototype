{% comment %}
{% load static %}

<section id="dashboard" class="py-5" style="background-color: #000;">
  <div class="container-fluid dashboard-wrapper">
    <div class="row">
      
      <!-- Sidebar -->
      <nav class="col-md-2 bg-dark text-white">
        <div class="p-3">
          <!-- Header row -->
          <div class="d-flex align-items-center justify-content-between mb-3">
            <img src="https://via.placeholder.com/40" class="rounded-circle me-2" alt="Logo">
            <h6 class="mb-0 flex-grow-1 text-success">Himaa Trading</h6>
            <button class="btn btn-sm btn-outline-light">‚ò∞</button>
          </div>

          <!-- User -->
          <div class="d-flex align-items-center my-3">
            <img src="https://via.placeholder.com/50" class="rounded-circle me-2" alt="User">
            <div>
              <p class="mb-0 fw-bold">Hello John</p>
              <small>johnbenando@gmail.in</small>
            </div>
          </div>

          <!-- Nav -->
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link active text-success">Dashboard</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link text-white">Live Trading Room</a></li>

            <!-- Dropdown Trading Tools -->
            <li class="nav-item mb-2">
              <a class="nav-link text-white" data-bs-toggle="collapse" data-bs-target="#tradingTools" role="button">
                Trading Tools ‚ñæ
              </a>
              <div class="collapse" id="tradingTools">
                <ul class="list-unstyled ps-3">
                  <li><a href="#" class="nav-link text-white">FX Calculator</a></li>
                  <li><a href="#" class="nav-link text-white">News Calendar</a></li>
                </ul>
              </div>
            </li>

            <!-- Dropdown Elite Trader Tools -->
            <li class="nav-item mb-2">
              <a class="nav-link text-white" data-bs-toggle="collapse" data-bs-target="#eliteTools" role="button">
                Elite Trader Tools ‚ñæ
              </a>
              <div class="collapse" id="eliteTools">
                <ul class="list-unstyled ps-3">
                  <li><a href="#" class="nav-link text-white">Market Analysis</a></li>
                  <li><a href="#" class="nav-link text-white">Trading Central Plugin</a></li>
                  <li><a href="#" class="nav-link text-white">Auto Trendline Plugin</a></li>
                  <li><a href="#" class="nav-link text-white">Support Residence plt</a></li>
                </ul>
              </div>
            </li>

            <li class="nav-item mb-2"><a href="#" class="nav-link text-white">Mentorship</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link text-white">Book a Meeting</a></li>
          </ul>
        </div>
      </nav>

      <!-- Main Dashboard -->
      <main class="col-md-10 px-md-4">
        
        <!-- Top Bar -->
        <div class="d-flex justify-content-between align-items-center pt-3 pb-2 mb-3 border-bottom text-white">
          <h6>Account 123456 <span class="badge bg-success">Active</span></h6>
          <div>
            <span class="me-3">Evaluation $15,000</span>
            <button class="btn btn-outline-success btn-sm">RESET</button>
          </div>
        </div>

        <!-- Stat Cards -->
        <div class="row mb-4">
          <div class="col-md-3 mb-3">
            <div class="card text-center shadow-sm">
              <div class="stat-icon">üí∞</div>
              <div class="card-body mt-4">
                <h6>Balance</h6>
                <h3>$15,078.00</h3>
                <small class="text-success">+55% This Week</small>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center shadow-sm">
              <div class="stat-icon">üìà</div>
              <div class="card-body mt-4">
                <h6>Equity</h6>
                <h3>$13,485.44</h3>
                <small class="text-danger">-35% This Week</small>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center shadow-sm">
              <div class="stat-icon">‚ö†Ô∏è</div>
              <div class="card-body mt-4">
                <h6>Max Risk Capital</h6>
                <h3>$178.00</h3>
                <small>Updated every 10s</small>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center shadow-sm">
              <div class="stat-icon">üìä</div>
              <div class="card-body mt-4">
                <h6>Drawdown Limit</h6>
                <h3>$15,078.00</h3>
                <small>Highest Balance $150,078.00</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Chart + Widgets -->
        <div class="row">
          <!-- Chart -->
          <div class="col-md-8 mb-3">
            <div class="card shadow-sm">
              <div class="card-header d-flex justify-content-between">
                <span>Account Balance</span>
                <select class="form-select form-select-sm w-auto">
                  <option>Year</option>
                  <option>Month</option>
                </select>
              </div>
              <div class="card-body" style="height: 350px;">
                <canvas id="accountBalanceChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Widgets -->
          <div class="col-md-4 mb-3">
            <div class="card shadow-sm mb-3">
              <div class="card-body text-center">
                <h6>Drawdown</h6>
                <div class="d-flex justify-content-center">
                  <div class="circle-progress">25%</div>
                  <div class="circle-progress">31%</div>
                </div>
                <p class="mt-2">Balance & Equity Left</p>
              </div>
            </div>
            <div class="card shadow-sm">
              <div class="card-body text-center">
                <h6>Goals</h6>
                <div class="d-flex justify-content-center">
                  <div class="circle-progress">11%</div>
                  <div class="circle-progress">31%</div>
                </div>
                <p class="mt-2">Progress toward Goals</p>
              </div>
            </div>
          </div>
        </div>

      </main>
    </div>
  </div>
</section>

<!-- Styles -->
<style>
  .dashboard-wrapper {
    border: 20px solid #DCFF7B;
    border-radius: 20px;
    padding: 20px;
    background-color: transparent;
  }
  .card {
    border-radius: 20px;
    background-color: #73737380;
    color: #fff;
    position: relative;
  }
  .stat-icon {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #198754;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  }
  .circle-progress {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 6px solid #e9ecef;
    border-top-color: #198754;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #198754;
    margin: 10px;
  }
</style>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const data = {
    "history": [
      {"month": "Jun", "balance": 50, "equity": 40},
      {"month": "Jul", "balance": 70, "equity": 35},
      {"month": "Aug", "balance": 90, "equity": 60},
      {"month": "Sep", "balance": 60, "equity": 70},
      {"month": "Oct", "balance": 100, "equity": 65}
    ]
  };

  const labels = data.history.map(item => item.month);
  const balance = data.history.map(item => item.balance);
  const equity = data.history.map(item => item.equity);

  const ctx = document.getElementById('accountBalanceChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        {
          label: 'Balance',
          data: balance,
          borderColor: '#00FF7F',
          borderWidth: 3,
          fill: false,
          tension: 0.4,
          pointRadius: 0 // no dots
        },
        {
          label: 'Equity',
          data: equity,
          borderColor: '#FF4C4C',
          borderWidth: 3,
          fill: false,
          tension: 0.4,
          pointRadius: 0
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { labels: { color: "#fff" } }
      },
      scales: {
        x: { ticks: { color: "#fff" }, grid: { color: "rgba(255,255,255,0.1)" } },
        y: { ticks: { color: "#fff" }, grid: { color: "rgba(255,255,255,0.1)" } }
      }
    }
  });
</script>
{% endcomment %}


