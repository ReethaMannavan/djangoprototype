{% load static %}
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <!-- Logo -->
        <a class="navbar-brand" href="{% url 'home' %}">
            {% if site_config and site_config.logo %}
                <img src="{{ site_config.logo.url }}" alt="Site Logo" height="40">
            {% endif %}
        </a>

        <!-- Toggler -->
        <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Nav Links -->
        <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About Us</a></li>  
                <li class="nav-item"><a class="nav-link" href="{% url 'blog' %}">Blogs</a></li>      
                <li class="nav-item"><a class="nav-link" href="{% url 'become_partner' %}">Become a Partner</a></li>
            </ul>

            <!-- User Icon -->
            <ul class="navbar-nav ms-auto">
                {% if user.is_authenticated %}
                    <!-- Logged-in: user icon + name + logout dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle" style="font-size: 1.8rem;"></i> <!-- increased size -->
                            <span class="ms-1">{{ user.first_name }}</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                        </ul>
                    </li>
                {% else %}
                    <!-- Logged-out: user icon links to login -->
                    <li class="nav-item">
                        <a href="{% url 'login' %}" class="nav-link">
                            <i class="bi bi-person-circle" style="font-size: 1.8rem;"></i>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
